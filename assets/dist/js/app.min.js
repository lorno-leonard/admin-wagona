var app=angular.module("app-admin-wagona",["ui.router"]);app.config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("dashboard",{url:"/",templateUrl:"dashboard.html",controller:"dashboardCtrl"}).state("data-entry",{url:"/data-entry",templateUrl:"data-entry.html",controller:"dataEntryCtrl"}).state("data-entry-country",{url:"/data-entry-country",templateUrl:"data-entry.country.html",controller:"dataEntryCountryCtrl",data:{parentState:"data-entry",parentStateTitle:"Data Entry"}}).state("data-entry-syllabi",{url:"/data-entry-syllabi",templateUrl:"data-entry.syllabi.html",controller:"dataEntrySyllabiCtrl",data:{parentState:"data-entry",parentStateTitle:"Data Entry"}}).state("data-entry-subject",{url:"/data-entry-subject",templateUrl:"data-entry.subject.html",controller:"dataEntrySubjectCtrl",data:{parentState:"data-entry",parentStateTitle:"Data Entry"}}).state("data-entry-topic",{url:"/data-entry-topic",templateUrl:"data-entry.topic.html",controller:"dataEntryTopicCtrl",data:{parentState:"data-entry",parentStateTitle:"Data Entry"}}).state("data-entry-question",{url:"/data-entry-question",templateUrl:"data-entry.question.html",controller:"dataEntryQuestionCtrl",data:{parentState:"data-entry",parentStateTitle:"Data Entry"}}).state("users",{url:"/users",templateUrl:"users.html",controller:"usersCtrl"}).state("transactions",{url:"/transactions",templateUrl:"transactions.html",controller:"transactionsCtrl"}).state("transactions-payments",{url:"/transactions-payments",templateUrl:"transactions.payments.html",controller:"transactionsPaymentsCtrl",data:{parentState:"transactions",parentStateTitle:"Transactions"}}).state("transactions-subscription-prices",{url:"/transactions-subscription-prices",templateUrl:"transactions.subscription-prices.html",controller:"transactionsSubscriptionPricesCtrl",data:{parentState:"transactions",parentStateTitle:"Transactions"}})}]),app.run(["$rootScope","$state","$stateParams",function(a,b,c){a.$state=b,a.$stateParams=c}]),app.controller("dashboardCtrl",function(a,b){b.setPageTitle("Dashboard","fa fa-dashboard icon")}),app.controller("dataEntryCountryCtrl",function(a,b){b.setPageTitle("Country","fa fa-flag icon")}),app.controller("dataEntryCtrl",function(a,b){a.data_entry.country={},a.data_entry.syllabi={},a.data_entry.subject={},a.data_entry.topic={},a.data_entry.question={},b.setPageTitle("Data Entry","fa fa-list icon"),a.data_entry.menus=_.first(_.filter(a.menus,{"ui-sref":"data-entry"})).menus}),app.controller("dataEntryQuestionCtrl",function(a,b){b.setPageTitle("Question","fa fa-question icon")}),app.controller("dataEntrySubjectCtrl",function(a,b){b.setPageTitle("Subject","fa fa-bookmark icon")}),app.controller("dataEntrySyllabiCtrl",function(a,b){b.setPageTitle("Syllabi","fa fa-book icon")}),app.controller("dataEntryTopicCtrl",function(a,b){b.setPageTitle("Topic","fa fa-certificate icon")}),app.controller("mainCtrl",function(a,b,c){a._=_,a.state=b,a.pageService=c,a.dashboard={},a.data_entry={},a.users={},a.transactions={},a.menus=[{title:"Dashboard",iconClass:"fa fa-dashboard icon",bgClass:"bg-info","ui-sref":"dashboard"},{title:"Data Entry",iconClass:"fa fa-list icon",bgClass:"bg-primary","ui-sref":"data-entry",menus:[{title:"Country",iconClass:"fa fa-flag icon","ui-sref":"data-entry-country"},{title:"Syllabi",iconClass:"fa fa-book icon","ui-sref":"data-entry-syllabi"},{title:"Subject",iconClass:"fa fa-bookmark icon","ui-sref":"data-entry-subject"},{title:"Topic",iconClass:"fa fa-certificate icon","ui-sref":"data-entry-topic"},{title:"Question",iconClass:"fa fa-question icon","ui-sref":"data-entry-question"}]},{title:"Users",iconClass:"fa fa-users icon",bgClass:"bg-danger","ui-sref":"users"},{title:"Transactions",iconClass:"fa fa-suitcase icon",bgClass:"bg-warning","ui-sref":"transactions",menus:[{title:"Payments",iconClass:"fa fa-credit-card icon","ui-sref":"transactions-payments"},{title:"Subscription Prices",iconClass:"fa fa-dollar icon","ui-sref":"transactions-subscription-prices"}]}],a.getMenuClass=function(a){return _.has(a,"ui-sref")&&(_.isEqual(a["ui-sref"],b.current.name)||b.current.name.indexOf(a["ui-sref"])!=-1)?"active":""},a.getUiSref=function(a){return _.has(a,"ui-sref")&&!_.isEmpty(a["ui-sref"])?a["ui-sref"]:"."}}),app.controller("transactionsCtrl",function(a,b){b.setPageTitle("Transactions","fa fa-suitcase icon"),a.transactions.menus=_.first(_.filter(a.menus,{"ui-sref":"transactions"})).menus}),app.controller("transactionsPaymentsCtrl",function(a,b){b.setPageTitle("Payments","fa fa-credit-card icon")}),app.controller("transactionsSubscriptionPricesCtrl",function(a,b){b.setPageTitle("Subscription Prices","fa fa-dollar icon")}),app.controller("usersCtrl",function(a,b){b.setPageTitle("Users","fa fa-users icon")}),app.directive("a",function(){return{restrict:"E",link:function(a,b,c){(c.ngClick||""===c.href||"#"===c.href)&&b.on("click",function(a){a.preventDefault()})}}}),app.service("pageService",function(a,b){var c="",d="";this.getBreadcrumbs=function(){for(var d=[],e=a.current;_.has(e,"data");){var f=a.get(e.data.parentState);d.push({title:e.data.parentStateTitle,"ui-sref":f.name}),e=f}_.reverse(d);var g="";return g+='<li><a href="" ui-sref="dashboard"><i class="fa fa-home"></i> Home</a></li>',_.each(d,function(a){g+='<li><a href="#/'+a["ui-sref"]+'">'+a.title+"</a></li>"}),g+="<li>"+c+"</li>",b.trustAsHtml(g)},this.getPageTitle=function(){return b.trustAsHtml(d)},this.setPageTitle=function(a,b){c=a,d=(_.isUndefined(b)?"":'<i class="'+b+'"></i> ')+a}});